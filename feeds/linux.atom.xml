<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Personal blog of Christian Seyda</title><link href="//cseyda.github.io/" rel="alternate"></link><link href="//cseyda.github.io/feeds/linux.atom.xml" rel="self"></link><id>//cseyda.github.io/</id><updated>2016-07-04T00:00:00+02:00</updated><entry><title>Surfstick and internet sharing with networkmanager</title><link href="//cseyda.github.io/surfstick-networkmanager.html" rel="alternate"></link><published>2016-07-04T00:00:00+02:00</published><author><name>Christian Seyda</name></author><id>tag:cseyda.github.io,2016-07-04:surfstick-networkmanager.html</id><summary type="html">&lt;p&gt;Wired internet broke after floodings. To bridge the time till all repairs are finished I received a K4203 SurfStick. Some instructions how to get it to work and share the internet connection follows.&lt;/p&gt;
&lt;h1&gt;K4203 SurfStick&lt;/h1&gt;
&lt;p&gt;This stick provides a wireless internet connection through &lt;span class="caps"&gt;UMTS&lt;/span&gt;. In my case it didn’t work out of the box. Upon insertion in an &lt;span class="caps"&gt;USB&lt;/span&gt; slot it registered itself as a &lt;span class="caps"&gt;CD&lt;/span&gt;-reader. Apparently &lt;span class="caps"&gt;USB&lt;/span&gt; devices can have different modes of operation and change according to the situation. To force it to the right mode, watch with &lt;code&gt;lsusb&lt;/code&gt; and issue the following command after insertion of the stick:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sudo usb_modeswitch -v 12d1 -p 1f1c -W -I -M 55534243123456780000000000000011062000000101000100000000000000
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;a href="http://www.draisberghof.de/usb_modeswitch/bb/viewtopic.php?f=3&amp;amp;t=1970"&gt;Source&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;Internet sharing&lt;/h1&gt;
&lt;p&gt;There are tons of tutorials on how to share a internet connection with networkmanager — not repeating the steps here. But there is not enough information about how to change the standard &lt;span class="caps"&gt;IP&lt;/span&gt; address 10.42.0.1 of the shared interface.&lt;/p&gt;
&lt;p&gt;In order to use the shared connection, you have to change the addresses (&lt;span class="caps"&gt;IP&lt;/span&gt;, gateway, &lt;span class="caps"&gt;DNS&lt;/span&gt;) of all devices wanting to use it. There is no option in the &lt;span class="caps"&gt;GUI&lt;/span&gt; to change the standard address, and no configuration file option. The only way (I could find) was to use nmcli:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ nmcli connection modify Hotspot ipv4.address 196.168.0.1/24
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;a href="https://www.mail-archive.com/networkmanager-list@gnome.org/msg26190.html"&gt;Source&lt;/a&gt;&lt;/p&gt;</summary><category term="software"></category><category term="network"></category><category term="linux"></category></entry></feed>